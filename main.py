# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file './UI/main.ui'
#
# Created by: PyQt5 UI code generator 5.15.0
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import score_calculation as sc
import sqlite3
from os import system

class Ui_MainWindow(object):
    #Click events for buttons
    def name_event(self):
        self.namewin = QtWidgets.QDialog()
        self.uiname = Ui_DialogName()
        self.uiname.setupUi(self.namewin)
        self.namewin.show()
    def open_event(self):
        self.open = QtWidgets.QDialog()
        self.uiopen = Ui_DialogOpen()
        self.uiopen.setupUi(self.open)
        self.open.show()
    def option_event(self):
        self.option = QtWidgets.QDialog()
        self.uioption = Ui_DialogOptns()
        self.uioption.setupUi(self.option)
        self.option.show()
    def stat_event(self):
        self.stat = QtWidgets.QDialog()
        self.uistat = Ui_DialogStat()
        self.uistat.setupUi(self.stat)
        self.stat.show()

    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(800, 600)
        MainWindow.setMinimumSize(QtCore.QSize(800, 600))
        MainWindow.setStyleSheet("QPushButton {\n"
"    padding: 12;\n"
"}\n")
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.centralwidget)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem)
        self.widget = QtWidgets.QWidget(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.widget.sizePolicy().hasHeightForWidth())
        self.widget.setSizePolicy(sizePolicy)
        self.widget.setObjectName("widget")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.widget)
        self.verticalLayout.setSpacing(0)
        self.verticalLayout.setObjectName("verticalLayout")
        spacerItem1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem1)
        self.new_btn = QtWidgets.QPushButton(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(1)
        sizePolicy.setHeightForWidth(self.new_btn.sizePolicy().hasHeightForWidth())
        self.new_btn.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.new_btn.setFont(font)
        self.new_btn.setStyleSheet("")
        self.new_btn.setObjectName("new_btn")
        self.new_btn.clicked.connect(self.name_event)
        self.verticalLayout.addWidget(self.new_btn)
        spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem2)
        self.open_btn = QtWidgets.QPushButton(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.open_btn.sizePolicy().hasHeightForWidth())
        self.open_btn.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.open_btn.setFont(font)
        self.open_btn.setObjectName("open_btn")
        self.open_btn.clicked.connect(self.open_event)
        self.verticalLayout.addWidget(self.open_btn)
        spacerItem3 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem3)
        self.stats_btn = QtWidgets.QPushButton(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.stats_btn.sizePolicy().hasHeightForWidth())
        self.stats_btn.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.stats_btn.setFont(font)
        self.stats_btn.setStyleSheet("/*background-color : rgb(255,143,143)*/")
        self.stats_btn.setObjectName("stats_btn")
        self.stats_btn.clicked.connect(self.stat_event)

        self.verticalLayout.addWidget(self.stats_btn)
        spacerItem4 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem4)
        self.options_btn = QtWidgets.QPushButton(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.options_btn.sizePolicy().hasHeightForWidth())
        self.options_btn.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.options_btn.setFont(font)
        self.options_btn.setStyleSheet("")
        self.options_btn.setObjectName("options_btn")
        self.options_btn.clicked.connect(self.option_event)
        self.verticalLayout.addWidget(self.options_btn)
        spacerItem5 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem5)
        self.verticalLayout.setStretch(0, 5)
        self.verticalLayout.setStretch(1, 1)
        self.verticalLayout.setStretch(2, 2)
        self.verticalLayout.setStretch(3, 1)
        self.verticalLayout.setStretch(4, 2)
        self.verticalLayout.setStretch(5, 1)
        self.verticalLayout.setStretch(6, 2)
        self.verticalLayout.setStretch(7, 1)
        self.verticalLayout.setStretch(8, 5)
        self.horizontalLayout.addWidget(self.widget)
        spacerItem6 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem6)
        self.horizontalLayout.setStretch(0, 15)
        self.horizontalLayout.setStretch(1, 23)
        self.horizontalLayout.setStretch(2, 15)
        self.verticalLayout_2.addLayout(self.horizontalLayout)
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 800, 25))
        self.menubar.setObjectName("menubar")
        self.menuHelp = QtWidgets.QMenu(self.menubar)
        self.menuHelp.setObjectName("menuHelp")
        MainWindow.setMenuBar(self.menubar)
        self.actionHow_to_play = QtWidgets.QAction(MainWindow)
        self.actionHow_to_play.setObjectName("actionHow_to_play")
        self.menuHelp.addAction(self.actionHow_to_play)
        self.menubar.addAction(self.menuHelp.menuAction())

    #For enabling disabling Open button on Main Menu
        db.cur.execute("SELECT COUNT(*) FROM teams")
        if db.cur.fetchone()[0] < 1:
            self.open_btn.setEnabled(False)
        else:
            self.open_btn.setEnabled(True)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.new_btn.setText(_translate("MainWindow", "Create New Game"))
        self.open_btn.setText(_translate("MainWindow", "Open an existing game"))
        self.stats_btn.setText(_translate("MainWindow", "Stats"))
        self.options_btn.setText(_translate("MainWindow", "Options"))
        self.menuHelp.setTitle(_translate("MainWindow", "Help"))
        self.actionHow_to_play.setText(_translate("MainWindow", "How to play"))

class Ui_MainWindowCreate(object):
    #To check if Ui_DialogName is created from Main menu click event or Menu bar of Create window
    status = 'None'
    def __init__(self):
        self.var_teamname = ''
        self.list_selected = []
        self.list_avail = db.get_avail_list()
        self.var_points_avail = 1000
        self.var_points_used = 0
        self.ctg = ''
    
    #For restricting user to modify existing team
    def disableforopen(self, openname):
        self.right.addItems(db.get_team_players(openname))
        self.left.setEnabled(False)
        self.widget_7.setEnabled(False)

    #A common message box creator to use when applicable
    def message_box(self, text, icon):
        self.msg_box = QtWidgets.QMessageBox()
        if icon == "Information":
            self.msg_box.setIcon(QtWidgets.QMessageBox.Information)
        elif icon == "Warning":
            self.msg_box.setIcon(QtWidgets.QMessageBox.Warning)
        self.msg_box.setWindowTitle("Error check!")
        self.msg_box.setText(text)
        self.msg_box.setStandardButtons(QtWidgets.QMessageBox.Ok)
        self.msg_box.exec()

    #Valid check before saving a team to the database
    def isvalid(self):
        if int(self.players_selected_val.text()) < 11:
            self.message_box("Your team needs 11 players. You need to add "+str(11 - int(self.players_selected_val.text()))+
            " more player(s).\nIf you don't have enough points, reset them from Options in Main menu.","Warning")
            return False
        elif int(self.wk_val.text()) != 1:
            self.message_box("Your team needs at least one wicket-keeper!","Warning")
            return False
        else:
            return True
    #Create menu functions
    def menufunction(self, action, createwin):
        action_txt = action.text()
        if action_txt == 'New team':
            #If nothing is available in selected players list, a new team can be created. A warning is thrown otherwise
            if self.right.count() > 0:
                self.msgbox = QtWidgets.QMessageBox()
                self.msgbox.setIcon(QtWidgets.QMessageBox.Warning)
                self.msgbox.setWindowTitle("Error check")
                self.msgbox.setText("You are creating a new team, the current team '"+self.teamname.text()+"' will be discarded upon successful creation. Do you wish to proceed?")
                self.msgbox.setStandardButtons(QtWidgets.QMessageBox.Ok | QtWidgets.QMessageBox.Cancel)
                self.ret = self.msgbox.exec()
                if self.ret == QtWidgets.QMessageBox.Ok:
                    #As Ui_DialogName is created from Create menu
                    Ui_DialogName.origin = 'Create'
                    self.namewin = QtWidgets.QDialog()
                    self.uiname = Ui_DialogName()
                    self.uiname.closecur(createwin)
                    self.uiname.setupUi(self.namewin)
                    self.namewin.show()
            else:
                Ui_DialogName.origin = 'Create'
                self.namewin = QtWidgets.QDialog()
                self.uiname = Ui_DialogName()
                self.uiname.closecur(createwin)
                self.uiname.setupUi(self.namewin)
                self.namewin.show()
        if action_txt == 'Open team':
            #Same logic as the new team dialog box, whether to allow user to open an existing team
            if self.right.count() > 0 and self.left.isEnabled():
                self.msgbox = QtWidgets.QMessageBox()
                self.msgbox.setWindowTitle("Error check")
                self.msgbox.setIcon(QtWidgets.QMessageBox.Warning)
                self.msgbox.setText("You are creating a new team, the current team '"+self.teamname.text()+"' will be discarded. Do you wish to proceed?")
                self.msgbox.setStandardButtons(QtWidgets.QMessageBox.Ok | QtWidgets.QMessageBox.Cancel)
                self.ret = self.msgbox.exec()
                if self.ret == QtWidgets.QMessageBox.Ok:
                    Ui_DialogOpen.origin = 'Create'
                    self.open = QtWidgets.QDialog()
                    self.uiopen = Ui_DialogOpen()
                    self.uiopen.closecur(createwin)
                    self.uiopen.setupUi(self.open)
                    self.open.show()
            else:
                Ui_DialogOpen.origin = 'Create'
                self.open = QtWidgets.QDialog()
                self.uiopen = Ui_DialogOpen()
                self.uiopen.closecur(createwin)
                self.uiopen.setupUi(self.open)
                self.open.show()
        elif action_txt == 'Save team':
            self.save()
        elif action_txt == 'Evaluate teams':
            if self.right.count() > 0 and self.left.isEnabled():
                self.msgbox = QtWidgets.QMessageBox()
                self.msgbox.setWindowTitle("Error check")
                self.msgbox.setIcon(QtWidgets.QMessageBox.Warning)
                self.msgbox.setText("You are creating a new team, the current team '"+self.teamname.text()+"' will be discarded. Do you wish to proceed?")
                self.msgbox.setStandardButtons(QtWidgets.QMessageBox.Ok | QtWidgets.QMessageBox.Cancel)
                self.ret = self.msgbox.exec()
                if self.ret == QtWidgets.QMessageBox.Ok:
                    self.evalwin = QtWidgets.QMainWindow()
                    self.uieval = Ui_MainWindowEval()
                    self.uieval.setupUi(self.evalwin)
                    createwin.close()
                    self.evalwin.show()
            else:
                self.evalwin = QtWidgets.QMainWindow()
                self.uieval = Ui_MainWindowEval()
                self.uieval.setupUi(self.evalwin)
                createwin.close()
                self.evalwin.show()
        elif action_txt == 'Exit to Menu':
            #Current window is closed and exited to menu
            createwin.close()
            MainWindow.show()
            #system('cmd /c python main.py')

    def save(self):
        if self.left.isEnabled():
            if self.isvalid():
                db.cur.execute('''SELECT name FROM teams''')
                team_names = db.cur.fetchall()
                team_names = [tup[0] for tup in team_names]
                teamsave = self.teamname.text()
                if teamsave not in team_names:
                    self.players = [x[2][0] for x in self.list_selected]
                    self.playerstring = '-'.join(self.players)
                    db.insertinto(self.teamname.text(),self.playerstring,0)
                    self.message_box("Team saved successfully","Information")
                else:
                    self.message_box("You have already saved this team!","Warning")

    def saveeval(self, win):
        #Unlike Save team option, upon saving, user is automatically redirected to evaluate window
        self.save()
        self.evalwin = QtWidgets.QMainWindow()
        self.uieval = Ui_MainWindowEval()
        self.uieval.setupUi(self.evalwin)
        self.teams = db.get_teams()
        self.team = self.teamname.text()
        self.ind = self.teams.index(self.team)
        self.uieval.team_eval.setCurrentIndex(self.ind + 1)
        self.uieval.listWidget_3.addItems(db.get_team_players(self.team))
        win.close()
        self.evalwin.show()

    def post_setup_create(self,tname):
        #Inital info to add to the create window after its creation
        self.teamname.setText(tname)
        self.bat.setChecked(True)
        self.ctg = "BAT"
        self.points_avail.setText(str(self.var_points_avail))
        self.right.clear()

    #For setting players to the Players available list
    def set_players(self):
        self.left.clear()
        if self.bat.isChecked():
            self.ctg = "BAT"
            self.left.addItems([i[0]+" - "+str(i[1]) for i in self.list_avail["BAT"]])
        elif self.bow.isChecked():
            self.ctg = "BOW"
            self.left.addItems([i[0]+" - "+str(i[1]) for i in self.list_avail["BOW"]])
        elif self.ar.isChecked():
            self.ctg = "AR"
            self.left.addItems([i[0]+" - "+str(i[1]) for i in self.list_avail["AR"]])
        else:
            self.ctg = "WK"
            self.left.addItems([i[0]+" - "+str(i[1]) for i in self.list_avail["WK"]])

    #Function to add items from Players Available list to Players selected list
    def left_to_right2(self, item):
        #Handling just in case, for the middle two buttons between the two lists
        try:
            self.pos = self.left.currentRow()
            self.pair = self.list_avail[self.ctg][self.pos]

            if int(self.players_selected_val.text()) == 11:
                self.message_box("Players in a team cannot exceed more than 11.","Warning")
            elif int(self.points_avail.text()) < self.pair[1]:
                self.message_box("You don't have enough points to select this player.","Warning")
            elif int(self.wk_val.text()) == 1 and self.ctg == "WK":
                self.message_box("You cannot select more than 1 wicket-keeper.","Warning")
            else:
                #Setting values for the Players selected list
                self.list_avail[self.ctg].pop(self.pos)
                self.points_avail.setText(str(int(self.points_avail.text()) - int(self.pair[1])))
                self.points_used.setText(str(int(self.points_used.text()) + int(self.pair[1])))
                self.players_selected_val.setText(str(int(self.players_selected_val.text()) + 1))
                if self.ctg == "BAT":
                    self.bat_val.setText(str(int(self.bat_val.text()) + 1))
                elif self.ctg == "BOW":
                    self.bow_val.setText(str(int(self.bow_val.text()) + 1))
                elif self.ctg == "AR":
                    self.all_val.setText(str(int(self.all_val.text()) + 1))
                else:
                    self.wk_val.setText(str(int(self.wk_val.text()) + 1))
                
                self.list_selected.append((self.ctg,self.pos,self.pair))
                self.right.addItem("("+self.ctg+") "+item.text())
                self.left.takeItem(self.left.currentRow())
        except:
            pass
        
    #Function to deselect items    
    def right_to_left2(self, item):
        try:
            #To check if team is opened or created
            if self.left.isEnabled():
                self.rpos = self.right.currentRow()
                self.tup = self.list_selected.pop(self.rpos)
            #Setting values for the Players selected list
                self.points_avail.setText(str(int(self.points_avail.text()) + int(self.tup[2][1])))
                self.points_used.setText(str(int(self.points_used.text()) - int(self.tup[2][1])))
                self.players_selected_val.setText(str(int(self.players_selected_val.text()) - 1))
                if self.tup[0] == "BAT":
                    self.bat_val.setText(str(int(self.bat_val.text()) - 1))
                elif self.tup[0] == "BOW":
                    self.bow_val.setText(str(int(self.bow_val.text()) - 1))
                elif self.tup[0] == "AR":
                    self.all_val.setText(str(int(self.all_val.text()) - 1))
                else:
                    self.wk_val.setText(str(int(self.wk_val.text()) - 1))

                self.list_avail[self.tup[0]].insert(self.tup[1],self.tup[2])
                if self.ctg == self.tup[0]:
                    self.left.insertItem(self.tup[1],item.text().split(") ")[1])
                self.right.takeItem(self.right.currentRow())
            else:
                pass
        except:
            pass

    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(840, 630)
        MainWindow.setMinimumSize(QtCore.QSize(840, 630))
        MainWindow.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.status_create = 'Running'
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.verticalLayout_9 = QtWidgets.QVBoxLayout(self.centralwidget)
        self.verticalLayout_9.setObjectName("verticalLayout_9")
        self.frame = QtWidgets.QFrame(self.centralwidget)
        self.frame.setMinimumSize(QtCore.QSize(821, 101))
        self.frame.setStyleSheet("background-color : rgb(220,220,220);")
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.frame)
        self.verticalLayout_2.setContentsMargins(-1, 4, -1, 7)
        self.verticalLayout_2.setSpacing(3)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.widget_5 = QtWidgets.QWidget(self.frame)
        self.widget_5.setObjectName("widget_5")
        self.horizontalLayout_11 = QtWidgets.QHBoxLayout(self.widget_5)
        self.horizontalLayout_11.setContentsMargins(22, 0, -1, 0)
        self.horizontalLayout_11.setObjectName("horizontalLayout_11")
        self.label = QtWidgets.QLabel(self.widget_5)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        font.setBold(False)
        font.setWeight(50)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.horizontalLayout_11.addWidget(self.label)
        self.players_selected_val = QtWidgets.QLabel(self.widget_5)
        self.players_selected_val.setMinimumSize(QtCore.QSize(19, 23))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.players_selected_val.setFont(font)
        self.players_selected_val.setCursor(QtGui.QCursor(QtCore.Qt.ArrowCursor))
        self.players_selected_val.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.players_selected_val.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.players_selected_val.setObjectName("players_selected_val")
        self.horizontalLayout_11.addWidget(self.players_selected_val)
        self.label_3 = QtWidgets.QLabel(self.widget_5)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_3.setFont(font)
        self.label_3.setObjectName("label_3")
        self.horizontalLayout_11.addWidget(self.label_3)
        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_11.addItem(spacerItem)
        self.verticalLayout_2.addWidget(self.widget_5)
        self.widget_2 = QtWidgets.QWidget(self.frame)
        self.widget_2.setObjectName("widget_2")
        self.horizontalLayout_10 = QtWidgets.QHBoxLayout(self.widget_2)
        self.horizontalLayout_10.setContentsMargins(-1, 2, -1, 0)
        self.horizontalLayout_10.setObjectName("horizontalLayout_10")
        self.widget = QtWidgets.QWidget(self.widget_2)
        self.widget.setObjectName("widget")
        self.horizontalLayout_6 = QtWidgets.QHBoxLayout(self.widget)
        self.horizontalLayout_6.setContentsMargins(-1, 2, -1, 2)
        self.horizontalLayout_6.setObjectName("horizontalLayout_6")
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.label_4 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.horizontalLayout_2.addWidget(self.label_4)
        self.bat_val = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.bat_val.setFont(font)
        self.bat_val.setObjectName("bat_val")
        self.horizontalLayout_2.addWidget(self.bat_val)
        self.horizontalLayout_6.addLayout(self.horizontalLayout_2)
        spacerItem1 = QtWidgets.QSpacerItem(13, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_6.addItem(spacerItem1)
        self.horizontalLayout_10.addWidget(self.widget)
        self.widget_21 = QtWidgets.QWidget(self.widget_2)
        self.widget_21.setObjectName("widget_21")
        self.horizontalLayout_7 = QtWidgets.QHBoxLayout(self.widget_21)
        self.horizontalLayout_7.setContentsMargins(-1, 2, -1, 2)
        self.horizontalLayout_7.setObjectName("horizontalLayout_7")
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")
        self.label_5 = QtWidgets.QLabel(self.widget_21)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_5.setFont(font)
        self.label_5.setObjectName("label_5")
        self.horizontalLayout_3.addWidget(self.label_5)
        self.bow_val = QtWidgets.QLabel(self.widget_21)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.bow_val.setFont(font)
        self.bow_val.setObjectName("bow_val")
        self.horizontalLayout_3.addWidget(self.bow_val)
        self.horizontalLayout_7.addLayout(self.horizontalLayout_3)
        spacerItem2 = QtWidgets.QSpacerItem(14, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_7.addItem(spacerItem2)
        self.horizontalLayout_10.addWidget(self.widget_21)
        self.widget_3 = QtWidgets.QWidget(self.widget_2)
        self.widget_3.setObjectName("widget_3")
        self.horizontalLayout_8 = QtWidgets.QHBoxLayout(self.widget_3)
        self.horizontalLayout_8.setContentsMargins(-1, 2, -1, 2)
        self.horizontalLayout_8.setObjectName("horizontalLayout_8")
        self.horizontalLayout_4 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_4.setObjectName("horizontalLayout_4")
        self.label_6 = QtWidgets.QLabel(self.widget_3)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_6.setFont(font)
        self.label_6.setObjectName("label_6")
        self.horizontalLayout_4.addWidget(self.label_6)
        self.all_val = QtWidgets.QLabel(self.widget_3)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.all_val.setFont(font)
        self.all_val.setObjectName("all_val")
        self.horizontalLayout_4.addWidget(self.all_val)
        self.horizontalLayout_8.addLayout(self.horizontalLayout_4)
        spacerItem3 = QtWidgets.QSpacerItem(13, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_8.addItem(spacerItem3)
        self.horizontalLayout_10.addWidget(self.widget_3)
        self.widget_4 = QtWidgets.QWidget(self.widget_2)
        self.widget_4.setObjectName("widget_4")
        self.horizontalLayout_9 = QtWidgets.QHBoxLayout(self.widget_4)
        self.horizontalLayout_9.setContentsMargins(-1, 2, -1, 2)
        self.horizontalLayout_9.setObjectName("horizontalLayout_9")
        self.horizontalLayout_5 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_5.setObjectName("horizontalLayout_5")
        self.label_7 = QtWidgets.QLabel(self.widget_4)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_7.setFont(font)
        self.label_7.setObjectName("label_7")
        self.horizontalLayout_5.addWidget(self.label_7)
        self.wk_val = QtWidgets.QLabel(self.widget_4)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.wk_val.setFont(font)
        self.wk_val.setObjectName("wk_val")
        self.horizontalLayout_5.addWidget(self.wk_val)
        self.horizontalLayout_9.addLayout(self.horizontalLayout_5)
        self.horizontalLayout_10.addWidget(self.widget_4)
        self.verticalLayout_2.addWidget(self.widget_2)
        self.verticalLayout_9.addWidget(self.frame)
        self.frame_4 = QtWidgets.QFrame(self.centralwidget)
        self.frame_4.setMinimumSize(QtCore.QSize(827, 0))
        self.frame_4.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_4.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_4.setObjectName("frame_4")
        self.horizontalLayout = QtWidgets.QHBoxLayout(self.frame_4)
        self.horizontalLayout.setContentsMargins(-1, 0, -1, 0)
        self.horizontalLayout.setSpacing(4)
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.widget_6 = QtWidgets.QWidget(self.frame_4)
        font = QtGui.QFont()
        font.setFamily("MS UI Gothic")
        self.widget_6.setFont(font)
        self.widget_6.setObjectName("widget_6")
        self.verticalLayout_3 = QtWidgets.QVBoxLayout(self.widget_6)
        self.verticalLayout_3.setContentsMargins(-1, 4, 0, -1)
        self.verticalLayout_3.setObjectName("verticalLayout_3")
        self.widget_10 = QtWidgets.QWidget(self.widget_6)
        self.widget_10.setMinimumSize(QtCore.QSize(351, 47))
        self.widget_10.setObjectName("widget_10")
        self.verticalLayout_13 = QtWidgets.QVBoxLayout(self.widget_10)
        self.verticalLayout_13.setContentsMargins(-1, 2, -1, 2)
        self.verticalLayout_13.setObjectName("verticalLayout_13")
        self.horizontalLayout_19 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_19.setSizeConstraint(QtWidgets.QLayout.SetDefaultConstraint)
        self.horizontalLayout_19.setContentsMargins(-1, -1, 0, -1)
        self.horizontalLayout_19.setObjectName("horizontalLayout_19")
        self.label_32 = QtWidgets.QLabel(self.widget_10)
        self.label_32.setMinimumSize(QtCore.QSize(128, 24))
        self.label_32.setMaximumSize(QtCore.QSize(128, 24))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_32.setFont(font)
        self.label_32.setObjectName("label_32")
        self.horizontalLayout_19.addWidget(self.label_32)
        self.points_avail = QtWidgets.QLabel(self.widget_10)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.points_avail.setFont(font)
        self.points_avail.setObjectName("points_avail")
        self.horizontalLayout_19.addWidget(self.points_avail)
        spacerItem4 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_19.addItem(spacerItem4)
        self.verticalLayout_13.addLayout(self.horizontalLayout_19)
        self.verticalLayout_3.addWidget(self.widget_10)
        self.frame_2 = QtWidgets.QFrame(self.widget_6)
        self.frame_2.setStyleSheet("background-color : white;")
        self.frame_2.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_2.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_2.setObjectName("frame_2")
        self.verticalLayout_4 = QtWidgets.QVBoxLayout(self.frame_2)
        self.verticalLayout_4.setObjectName("verticalLayout_4")
        self.widget_7 = QtWidgets.QWidget(self.frame_2)
        self.widget_7.setObjectName("widget_7")
        self.horizontalLayout_12 = QtWidgets.QHBoxLayout(self.widget_7)
        self.horizontalLayout_12.setObjectName("horizontalLayout_12")
        self.bat = QtWidgets.QRadioButton(self.widget_7)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(9)
        self.bat.setFont(font)
        self.bat.setObjectName("bat")
        self.horizontalLayout_12.addWidget(self.bat)
        self.bow = QtWidgets.QRadioButton(self.widget_7)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(9)
        self.bow.setFont(font)
        self.bow.setObjectName("bow")
        self.horizontalLayout_12.addWidget(self.bow)
        self.ar = QtWidgets.QRadioButton(self.widget_7)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(9)
        self.ar.setFont(font)
        self.ar.setObjectName("ar")
        self.horizontalLayout_12.addWidget(self.ar)
        self.wk = QtWidgets.QRadioButton(self.widget_7)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(9)
        self.wk.setFont(font)
        self.wk.setObjectName("wk")
        self.horizontalLayout_12.addWidget(self.wk)
        self.verticalLayout_4.addWidget(self.widget_7)
        self.left = QtWidgets.QListWidget(self.frame_2)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.left.setFont(font)
        self.left.setStyleSheet("padding : 5;")
        self.left.setObjectName("left")
        self.verticalLayout_4.addWidget(self.left)
        self.verticalLayout_3.addWidget(self.frame_2)
        self.horizontalLayout.addWidget(self.widget_6)
        self.widget_12 = QtWidgets.QWidget(self.frame_4)
        self.widget_12.setObjectName("widget_12")
        self.verticalLayout_8 = QtWidgets.QVBoxLayout(self.widget_12)
        self.verticalLayout_8.setContentsMargins(0, -1, 0, -1)
        self.verticalLayout_8.setObjectName("verticalLayout_8")
        spacerItem5 = QtWidgets.QSpacerItem(20, 139, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_8.addItem(spacerItem5)
        self.frame_3 = QtWidgets.QFrame(self.widget_12)
        self.frame_3.setMinimumSize(QtCore.QSize(61, 101))
        self.frame_3.setMaximumSize(QtCore.QSize(61, 101))
        self.frame_3.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_3.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_3.setObjectName("frame_3")
        self.verticalLayout_7 = QtWidgets.QVBoxLayout(self.frame_3)
        self.verticalLayout_7.setObjectName("verticalLayout_7")
        self.to_right = QtWidgets.QPushButton(self.frame_3)
        font = QtGui.QFont()
        font.setFamily("Segoe UI Semibold")
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.to_right.setFont(font)
        self.to_right.setObjectName("to_right")
        self.to_right.setEnabled(False)
        self.verticalLayout_7.addWidget(self.to_right)
        self.to_left = QtWidgets.QPushButton(self.frame_3)
        font = QtGui.QFont()
        font.setFamily("Segoe UI Semibold")
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.to_left.setFont(font)
        self.to_left.setObjectName("to_left")
        self.to_left.setEnabled(False)
        self.to_left.clicked.connect(self.right_to_left2)
        self.to_right.clicked.connect(self.left_to_right2)
        self.verticalLayout_7.addWidget(self.to_left)
        self.verticalLayout_8.addWidget(self.frame_3)
        spacerItem6 = QtWidgets.QSpacerItem(20, 139, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_8.addItem(spacerItem6)
        self.horizontalLayout.addWidget(self.widget_12)
        self.widget_9 = QtWidgets.QWidget(self.frame_4)
        self.widget_9.setObjectName("widget_9")
        self.verticalLayout_5 = QtWidgets.QVBoxLayout(self.widget_9)
        self.verticalLayout_5.setContentsMargins(0, 4, -1, -1)
        self.verticalLayout_5.setObjectName("verticalLayout_5")
        self.widget_8 = QtWidgets.QWidget(self.widget_9)
        self.widget_8.setMinimumSize(QtCore.QSize(351, 47))
        self.widget_8.setObjectName("widget_8")
        self.verticalLayout_14 = QtWidgets.QVBoxLayout(self.widget_8)
        self.verticalLayout_14.setContentsMargins(-1, 2, -1, 2)
        self.verticalLayout_14.setObjectName("verticalLayout_14")
        self.horizontalLayout_20 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_20.setContentsMargins(-1, -1, 0, -1)
        self.horizontalLayout_20.setObjectName("horizontalLayout_20")
        self.label_34 = QtWidgets.QLabel(self.widget_8)
        self.label_34.setMinimumSize(QtCore.QSize(100, 28))
        self.label_34.setMaximumSize(QtCore.QSize(100, 28))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_34.setFont(font)
        self.label_34.setObjectName("label_34")
        self.horizontalLayout_20.addWidget(self.label_34)
        self.points_used = QtWidgets.QLabel(self.widget_8)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.points_used.setFont(font)
        self.points_used.setObjectName("points_used")
        self.horizontalLayout_20.addWidget(self.points_used)
        spacerItem7 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_20.addItem(spacerItem7)
        self.verticalLayout_14.addLayout(self.horizontalLayout_20)
        self.verticalLayout_5.addWidget(self.widget_8)
        self.frame_5 = QtWidgets.QFrame(self.widget_9)
        self.frame_5.setStyleSheet("background-color : white;")
        self.frame_5.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_5.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_5.setObjectName("frame_5")
        self.verticalLayout_6 = QtWidgets.QVBoxLayout(self.frame_5)
        self.verticalLayout_6.setObjectName("verticalLayout_6")
        self.widget_11 = QtWidgets.QWidget(self.frame_5)
        self.widget_11.setMinimumSize(QtCore.QSize(333, 43))
        self.widget_11.setObjectName("widget_11")
        self.horizontalLayout_13 = QtWidgets.QHBoxLayout(self.widget_11)
        self.horizontalLayout_13.setObjectName("horizontalLayout_13")
        self.label_12 = QtWidgets.QLabel(self.widget_11)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_12.setFont(font)
        self.label_12.setObjectName("label_12")
        self.horizontalLayout_13.addWidget(self.label_12)
        self.teamname = QtWidgets.QLabel(self.widget_11)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.teamname.setFont(font)
        self.teamname.setObjectName("teamname")
        self.horizontalLayout_13.addWidget(self.teamname)
        spacerItem8 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_13.addItem(spacerItem8)
        self.verticalLayout_6.addWidget(self.widget_11)
        self.right = QtWidgets.QListWidget(self.frame_5)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.right.setFont(font)
        self.right.setStyleSheet("padding : 5;")
        self.right.setObjectName("right")
        self.verticalLayout_6.addWidget(self.right)
        self.verticalLayout_5.addWidget(self.frame_5)
        self.horizontalLayout.addWidget(self.widget_9)
        self.verticalLayout_9.addWidget(self.frame_4)
        self.widget_13 = QtWidgets.QWidget(self.centralwidget)
        self.widget_13.setObjectName("widget_13")
        self.horizontalLayout_14 = QtWidgets.QHBoxLayout(self.widget_13)
        self.horizontalLayout_14.setContentsMargins(-1, 3, -1, 3)
        self.horizontalLayout_14.setSpacing(0)
        self.horizontalLayout_14.setObjectName("horizontalLayout_14")
        spacerItem9 = QtWidgets.QSpacerItem(47, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_14.addItem(spacerItem9)
        self.save_eval = QtWidgets.QPushButton(self.widget_13)
        self.save_eval.setMinimumSize(QtCore.QSize(191, 37))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.save_eval.setFont(font)
        self.save_eval.setObjectName("save_eval")

        self.save_eval.clicked.connect(lambda : self.saveeval(MainWindow))

        self.horizontalLayout_14.addWidget(self.save_eval)
        spacerItem10 = QtWidgets.QSpacerItem(47, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_14.addItem(spacerItem10)
        self.verticalLayout_9.addWidget(self.widget_13)
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 840, 25))
        self.menubar.setObjectName("menubar")
        self.menuMAnage = QtWidgets.QMenu(self.menubar)
        self.menuMAnage.setObjectName("menuMAnage")
        MainWindow.setMenuBar(self.menubar)
        self.actionNew_team = QtWidgets.QAction(MainWindow)
        self.actionNew_team.setObjectName("actionNew_team")
        self.actionOpen_team = QtWidgets.QAction(MainWindow)
        self.actionOpen_team.setObjectName("actionOpen_team")
        self.actionSave_team = QtWidgets.QAction(MainWindow)
        self.actionSave_team.setObjectName("actionSave_team")
        self.actionEvaluate_teams = QtWidgets.QAction(MainWindow)
        self.actionEvaluate_teams.setObjectName("actionEvaluate_teams")
        self.actionToMenu = QtWidgets.QAction(MainWindow)
        self.actionToMenu.setObjectName("actionToMenu")
        self.menuMAnage.addAction(self.actionNew_team)
        self.menuMAnage.addAction(self.actionOpen_team)
        self.menuMAnage.addAction(self.actionSave_team)
        self.menuMAnage.addAction(self.actionEvaluate_teams)
        self.menuMAnage.addAction(self.actionToMenu)
        self.menubar.addAction(self.menuMAnage.menuAction())

        self.menuMAnage.triggered[QtWidgets.QAction].connect(lambda x : self.menufunction(x, MainWindow))
        self.bat.toggled.connect(self.set_players)
        self.bow.toggled.connect(self.set_players)
        self.ar.toggled.connect(self.set_players)
        self.wk.toggled.connect(self.set_players)
        self.left.itemDoubleClicked.connect(self.left_to_right2)
        self.right.itemDoubleClicked.connect(self.right_to_left2)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label.setText(_translate("MainWindow", "Players Selected:"))
        self.players_selected_val.setText(_translate("MainWindow", "0"))
        self.label_3.setText(_translate("MainWindow", "/ 11"))
        self.label_4.setText(_translate("MainWindow", "Batsmen (BAT):"))
        self.bat_val.setText(_translate("MainWindow", " 0"))
        self.label_5.setText(_translate("MainWindow", "Bowlers(BOW):"))
        self.bow_val.setText(_translate("MainWindow", " 0"))
        self.label_6.setText(_translate("MainWindow", "Allrounders (ALL):"))
        self.all_val.setText(_translate("MainWindow", " 0"))
        self.label_7.setText(_translate("MainWindow", "Wicket-keepers (WK):"))
        self.wk_val.setText(_translate("MainWindow", " 0"))
        self.label_32.setText(_translate("MainWindow", "Points Available:"))
        self.points_avail.setText(_translate("MainWindow", "0"))
        self.bat.setText(_translate("MainWindow", "BAT"))
        self.bow.setText(_translate("MainWindow", "BOW"))
        self.ar.setText(_translate("MainWindow", "AR"))
        self.wk.setText(_translate("MainWindow", "WK"))
        self.to_right.setText(_translate("MainWindow", ">"))
        self.to_left.setText(_translate("MainWindow", "<"))
        self.label_34.setText(_translate("MainWindow", "Points Used:"))
        self.points_used.setText(_translate("MainWindow", "0"))
        self.label_12.setText(_translate("MainWindow", "Team name:"))
        self.teamname.setText(_translate("MainWindow", " "))
        self.save_eval.setText(_translate("MainWindow", "Save and Evaluate"))
        self.menuMAnage.setTitle(_translate("MainWindow", "Manage"))
        self.actionNew_team.setText(_translate("MainWindow", "New team"))
        self.actionOpen_team.setText(_translate("MainWindow", "Open team"))
        self.actionSave_team.setText(_translate("MainWindow", "Save team"))
        self.actionEvaluate_teams.setText(_translate("MainWindow", "Evaluate teams"))
        self.actionToMenu.setText(_translate("MainWindow", "Exit to Menu"))

class Ui_DialogName(object):
    #To check if this dialog is created from main menu or create menu
    origin = 'Main'
    def cancel_event(self, dialog):
        dialog.close()
    
    #To receive the create window object so as to close it
    def closecur(self,win):
        Ui_DialogName.closecreate = win
    
    #Event upon create button click
    def create_event(self, dialog):
        db.cur.execute('''SELECT name FROM teams''')
        team_names = db.cur.fetchall()
        team_names = [tup[0] for tup in team_names]
        teamname = self.team_name.text()
    #To check if the team to-be created is already created or not
        if teamname not in team_names:
            self.createwin = QtWidgets.QMainWindow()
            self.createobj = Ui_MainWindowCreate()
            self.createobj.setupUi(self.createwin)
            self.createobj.post_setup_create(teamname)
            if Ui_DialogName.origin == 'Main':
                ui.setupUi(MainWindow)
                MainWindow.close()
                dialog.close()
                self.createwin.show()
            else:
                ui.setupUi(MainWindow)
                MainWindow.close()
                Ui_DialogName.closecreate.close()
                dialog.close()
                self.createwin.show()
        else:
            self.msgbox = QtWidgets.QMessageBox()
            self.msgbox.setIcon(QtWidgets.QMessageBox.Warning)
            self.msgbox.setWindowTitle("Error check")
            self.msgbox.setText("The team name '"+teamname+"' already exists. Please use another name.")
            self.msgbox.setStandardButtons(QtWidgets.QMessageBox.Ok)
            self.msgbox.exec()

    #To restrict null values for team names
    def check_text(self):
        if self.team_name.text():
            self.create_btn.setEnabled(True)
        else:
            self.create_btn.setEnabled(False)

    def setupUi(self, Dialog):
        Dialog.setObjectName("Dialog")
        Dialog.resize(480, 270)
        Dialog.setMinimumSize(QtCore.QSize(480, 270))
        Dialog.setMaximumSize(QtCore.QSize(480, 270))
        self.verticalLayout_3 = QtWidgets.QVBoxLayout(Dialog)
        self.verticalLayout_3.setObjectName("verticalLayout_3")
        spacerItem = QtWidgets.QSpacerItem(20, 22, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacerItem)
        self.frame = QtWidgets.QFrame(Dialog)
        self.frame.setMaximumSize(QtCore.QSize(16777215, 135))
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.frame)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.widget_2 = QtWidgets.QWidget(self.frame)
        self.widget_2.setObjectName("widget_2")
        self.horizontalLayout_6 = QtWidgets.QHBoxLayout(self.widget_2)
        self.horizontalLayout_6.setContentsMargins(-1, 0, -1, 0)
        self.horizontalLayout_6.setObjectName("horizontalLayout_6")
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_6.addItem(spacerItem1)
        self.label = QtWidgets.QLabel(self.widget_2)
        self.label.setMaximumSize(QtCore.QSize(125, 16777215))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.label.setFont(font)
        self.label.setStyleSheet("margin-right : 5;")
        self.label.setObjectName("label")
        self.horizontalLayout_6.addWidget(self.label)
        self.team_name = QtWidgets.QLineEdit(self.widget_2)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.team_name.sizePolicy().hasHeightForWidth())
        self.team_name.setSizePolicy(sizePolicy)
        self.team_name.setMinimumSize(QtCore.QSize(260, 36))
        font = QtGui.QFont()
        font.setFamily("Lucida Sans")
        font.setPointSize(11)
        self.team_name.setFont(font)
        self.team_name.setStyleSheet("padding-left : 5;")
        self.team_name.setText("")
        self.team_name.setObjectName("team_name")
    #Signal to check change of text in team_name LineEdit widget
        self.team_name.textChanged.connect(self.check_text)
        self.horizontalLayout_6.addWidget(self.team_name)
        spacerItem2 = QtWidgets.QSpacerItem(50, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_6.addItem(spacerItem2)
        self.verticalLayout_2.addWidget(self.widget_2)
        self.verticalLayout_3.addWidget(self.frame)
        self.frame_2 = QtWidgets.QFrame(Dialog)
        self.frame_2.setMinimumSize(QtCore.QSize(329, 51))
        self.frame_2.setMaximumSize(QtCore.QSize(16777215, 67))
        self.frame_2.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_2.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_2.setObjectName("frame_2")
        self.horizontalLayout_7 = QtWidgets.QHBoxLayout(self.frame_2)
        self.horizontalLayout_7.setContentsMargins(-1, 0, -1, -1)
        self.horizontalLayout_7.setObjectName("horizontalLayout_7")
        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_7.addItem(spacerItem3)
        self.create_btn = QtWidgets.QPushButton(self.frame_2)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.create_btn.setFont(font)
        self.create_btn.setStyleSheet("")
        self.create_btn.setObjectName("create_btn")
        self.create_btn.setEnabled(False)
    #Signal to create team upon clicking create_btn ("Create")
        self.create_btn.clicked.connect(lambda : self.create_event(Dialog))

        self.horizontalLayout_7.addWidget(self.create_btn)
        self.cancel_btn = QtWidgets.QPushButton(self.frame_2)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.cancel_btn.setFont(font)
        self.cancel_btn.setObjectName("cancel_btn")
    #Signal to close the dialog upon clicking cancel_btn ("Cancel")
        self.cancel_btn.clicked.connect(lambda : self.cancel_event(Dialog))

        self.horizontalLayout_7.addWidget(self.cancel_btn)
        spacerItem4 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_7.addItem(spacerItem4)
        self.verticalLayout_3.addWidget(self.frame_2)
        spacerItem5 = QtWidgets.QSpacerItem(20, 21, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacerItem5)

        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "Dialog"))
        self.label.setText(_translate("Dialog", "Team name"))
        self.create_btn.setText(_translate("Dialog", "Create"))
        self.cancel_btn.setText(_translate("Dialog", "Cancel"))

class Ui_DialogOpen(object):
    origin = 'Main'
    def cancel_event(self, dialog):
        dialog.close()

    #To receive window object in order to close
    def closecur(self, win):
        Ui_DialogOpen.closecreate = win
    
    def open_event(self, dialog):
        self.createwin = QtWidgets.QMainWindow()
        self.createobj = Ui_MainWindowCreate()
        self.createobj.setupUi(self.createwin)
        self.createobj.post_setup_create(self.openteam.currentText())
        self.createobj.disableforopen(self.openteam.currentText())
        if Ui_DialogOpen.origin == 'Main':
            ui.setupUi(MainWindow)
            MainWindow.close()
            dialog.close()
            self.createwin.show()
        else:
            ui.setupUi(MainWindow)
            MainWindow.close()
            Ui_DialogOpen.closecreate.close()
            dialog.close()
            self.createwin.show()
    def cancel_event(self,dialog):
        dialog.close()

    #To ensure user has selected an esisting team.
    def check_open(self):
        if self.openteam.currentIndex() >= 1:
            self.open_btn.setEnabled(True)
        else:
            self.open_btn.setEnabled(False)

    def setupUi(self, Dialog):
        Dialog.setObjectName("Dialog")
        Dialog.resize(480, 270)
        Dialog.setMinimumSize(QtCore.QSize(480, 270))
        Dialog.setMaximumSize(QtCore.QSize(480, 270))
        self.verticalLayout_3 = QtWidgets.QVBoxLayout(Dialog)
        self.verticalLayout_3.setObjectName("verticalLayout_3")
        spacerItem = QtWidgets.QSpacerItem(20, 22, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacerItem)
        self.frame = QtWidgets.QFrame(Dialog)
        self.frame.setMaximumSize(QtCore.QSize(16777215, 135))
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.frame)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.widget_2 = QtWidgets.QWidget(self.frame)
        self.widget_2.setObjectName("widget_2")
        self.horizontalLayout_6 = QtWidgets.QHBoxLayout(self.widget_2)
        self.horizontalLayout_6.setContentsMargins(-1, 0, -1, 0)
        self.horizontalLayout_6.setObjectName("horizontalLayout_6")
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_6.addItem(spacerItem1)
        self.openteam = QtWidgets.QComboBox(self.widget_2)
        self.openteam.setMinimumSize(QtCore.QSize(234, 36))
        font = QtGui.QFont()
        font.setFamily("Lucida Sans")
        font.setPointSize(11)
        self.openteam.setFont(font)
        self.openteam.setObjectName("openteam")
        self.openteam.addItem("Select team")
        self.horizontalLayout_6.addWidget(self.openteam)
        spacerItem2 = QtWidgets.QSpacerItem(80, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_6.addItem(spacerItem2)
        self.verticalLayout_2.addWidget(self.widget_2)
        self.verticalLayout_3.addWidget(self.frame)
        self.frame_2 = QtWidgets.QFrame(Dialog)
        self.frame_2.setMinimumSize(QtCore.QSize(329, 51))
        self.frame_2.setMaximumSize(QtCore.QSize(16777215, 67))
        self.frame_2.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_2.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_2.setObjectName("frame_2")
        self.horizontalLayout_7 = QtWidgets.QHBoxLayout(self.frame_2)
        self.horizontalLayout_7.setContentsMargins(-1, 0, -1, -1)
        self.horizontalLayout_7.setObjectName("horizontalLayout_7")
        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_7.addItem(spacerItem3)
        self.open_btn = QtWidgets.QPushButton(self.frame_2)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.open_btn.setFont(font)
        self.open_btn.setStyleSheet("")
        self.open_btn.setObjectName("open_btn")
        self.horizontalLayout_7.addWidget(self.open_btn)
        self.cancel_btn = QtWidgets.QPushButton(self.frame_2)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.cancel_btn.setFont(font)
        self.cancel_btn.setObjectName("cancel_btn")
        self.open_btn.setEnabled(False)

    #Connections
        self.openteam.activated.connect(self.check_open)
        self.open_btn.clicked.connect(lambda : self.open_event(Dialog))
        self.cancel_btn.clicked.connect(lambda : self.cancel_event(Dialog))

        self.horizontalLayout_7.addWidget(self.cancel_btn)
        spacerItem4 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_7.addItem(spacerItem4)
        self.verticalLayout_3.addWidget(self.frame_2)
        spacerItem5 = QtWidgets.QSpacerItem(20, 21, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacerItem5)
        self.openteam.addItems(db.get_teams())

        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "Dialog"))
        self.open_btn.setText(_translate("Dialog", "Open"))
        self.cancel_btn.setText(_translate("Dialog", "Cancel"))

class Ui_MainWindowEval(object):

    #To make calculate button visible only when both team and match are selected
    def check_to_enable(self):
        if self.team_eval.currentIndex() > 0 and self.match_eval.currentIndex() > 0:
            self.calc.setEnabled(True)
        else:
            self.calc.setEnabled(False)

    #Function to populate the players list
    def populate_left(self):
        self.listWidget_3.clear()
        self.team = db.get_team_players(self.team_eval.currentText())
        self.listWidget_3.addItems(self.team)

    def get_score(self):
        self.listWidget_4.clear()
        #calculate is a function for calculating scores
        #available in scores_calculator
        self.pts = sc.calculate(self,db)
        #Updating team score after calculation
        db.cur.execute('''UPDATE teams SET value = {} WHERE name = "{}"'''.format(self.pts,self.team_eval.currentText()))
        db.conn.commit()
    #To exit to menu
    def menu(self, win):
        win.close()
        MainWindow.show()

    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(650, 590)
        MainWindow.setMinimumSize(QtCore.QSize(650, 580))
        MainWindow.setMaximumSize(QtCore.QSize(800, 600))
        MainWindow.setStyleSheet("")
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.horizontalLayout_7 = QtWidgets.QHBoxLayout(self.centralwidget)
        self.horizontalLayout_7.setObjectName("horizontalLayout_7")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout()
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.label = QtWidgets.QLabel(self.centralwidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI Semibold")
        font.setPointSize(12)
        self.label.setFont(font)
        self.label.setStyleSheet("margin : 15;")
        self.label.setAlignment(QtCore.Qt.AlignCenter)
        self.label.setObjectName("label")
        self.verticalLayout_2.addWidget(self.label)
        self.widget_3 = QtWidgets.QWidget(self.centralwidget)
        self.widget_3.setObjectName("widget_3")
        self.horizontalLayout_8 = QtWidgets.QHBoxLayout(self.widget_3)
        self.horizontalLayout_8.setContentsMargins(5, -1, 0, -1)
        self.horizontalLayout_8.setSpacing(50)
        self.horizontalLayout_8.setObjectName("horizontalLayout_8")
        self.team_eval = QtWidgets.QComboBox(self.widget_3)
        self.team_eval.setMinimumSize(QtCore.QSize(181, 40))
        self.team_eval.setMaximumSize(QtCore.QSize(230, 40))
        self.team_eval.setStyleSheet("")
        self.team_eval.setObjectName("team_eval")
        font = QtGui.QFont()
        font.setFamily("Lucida Sans")
        font.setPointSize(11)
        self.team_eval.setFont(font)
        self.team_eval.addItem("Select team")
        self.horizontalLayout_8.addWidget(self.team_eval)
        self.match_eval = QtWidgets.QComboBox(self.widget_3)
        self.match_eval.setMinimumSize(QtCore.QSize(181, 40))
        self.match_eval.setMaximumSize(QtCore.QSize(230, 40))
        self.match_eval.setStyleSheet("")
        self.match_eval.setObjectName("match_eval")
        font = QtGui.QFont()
        font.setFamily("Lucida Sans")
        font.setPointSize(11)
        self.match_eval.setFont(font)
        self.match_eval.addItem("Select match")
        self.horizontalLayout_8.addWidget(self.match_eval)
        self.verticalLayout_2.addWidget(self.widget_3)
        self.line = QtWidgets.QFrame(self.centralwidget)
        self.line.setFrameShape(QtWidgets.QFrame.HLine)
        self.line.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.line.setObjectName("line")
        self.verticalLayout_2.addWidget(self.line)
        self.horizontalLayout_5 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_5.setObjectName("horizontalLayout_5")
        self.verticalLayout_4 = QtWidgets.QVBoxLayout()
        self.verticalLayout_4.setContentsMargins(12, 0, 12, 12)
        self.verticalLayout_4.setObjectName("verticalLayout_4")
        self.label_5 = QtWidgets.QLabel(self.centralwidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI Semibold")
        font.setPointSize(10)
        self.label_5.setFont(font)
        self.label_5.setStyleSheet("margin-left : 35;\n"
"margin-bottom : 5")
        self.label_5.setObjectName("label_5")
        self.verticalLayout_4.addWidget(self.label_5)
        self.listWidget_3 = QtWidgets.QListWidget(self.centralwidget)
        self.listWidget_3.setMinimumSize(QtCore.QSize(256, 311))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.listWidget_3.setFont(font)
        self.listWidget_3.setStyleSheet("margin : 5;\n"
"margin-right : 30;\n"
"margin-left : 25;\n"
"padding : 7;\n"
"background-color: white;")
        self.listWidget_3.setObjectName("listWidget_3")
        self.verticalLayout_4.addWidget(self.listWidget_3)
        self.calc = QtWidgets.QPushButton(self.centralwidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.calc.setFont(font)
        self.calc.setStyleSheet("margin-left: 65;\n"
"margin-right : 70;\n"
"height : 40;")
        self.calc.setObjectName("calc")
        self.calc.setEnabled(False)
        self.verticalLayout_4.addWidget(self.calc)
        self.horizontalLayout_5.addLayout(self.verticalLayout_4)
        self.verticalLayout_5 = QtWidgets.QVBoxLayout()
        self.verticalLayout_5.setContentsMargins(12, 0, 12, 12)
        self.verticalLayout_5.setObjectName("verticalLayout_5")
        self.horizontalLayout_6 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_6.setObjectName("horizontalLayout_6")
        self.label_6 = QtWidgets.QLabel(self.centralwidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI Semibold")
        font.setPointSize(10)
        self.label_6.setFont(font)
        self.label_6.setStyleSheet("margin-left : 35;\n"
"margin-bottom : 2;")
        self.label_6.setObjectName("label_6")
        self.horizontalLayout_6.addWidget(self.label_6)
        self.label_7 = QtWidgets.QLabel(self.centralwidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.label_7.setFont(font)
        self.label_7.setObjectName("label_7")
        self.horizontalLayout_6.addWidget(self.label_7)
        self.horizontalLayout_6.setStretch(0, 2)
        self.horizontalLayout_6.setStretch(1, 12)
        self.verticalLayout_5.addLayout(self.horizontalLayout_6)
        self.listWidget_4 = QtWidgets.QListWidget(self.centralwidget)
        self.listWidget_4.setMinimumSize(QtCore.QSize(256, 311))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.listWidget_4.setFont(font)
        self.listWidget_4.setStyleSheet("margin : 5;\n"
"margin-left : 25;\n"
"margin-right : 25;\n"
"padding : 7;\n"
"background-color: white;")
        self.listWidget_4.setObjectName("listWidget_4")
        self.verticalLayout_5.addWidget(self.listWidget_4)
        self.details = QtWidgets.QPushButton(self.centralwidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        self.details.setFont(font)
        self.details.setStyleSheet("margin-left : 80;\n"
"margin-right : 70;\n"
"height : 40;\n")
        self.details.setObjectName("details")
        self.verticalLayout_5.addWidget(self.details)
        self.horizontalLayout_5.addLayout(self.verticalLayout_5)
        self.verticalLayout_2.addLayout(self.horizontalLayout_5)
        self.horizontalLayout_7.addLayout(self.verticalLayout_2)
        MainWindow.setCentralWidget(self.centralwidget)
        self.team_eval.activated.connect(self.check_to_enable)
        self.team_eval.activated.connect(self.populate_left)
        self.match_eval.activated.connect(self.check_to_enable)
        self.calc.clicked.connect(self.get_score)
        self.team_eval.addItems(db.get_teams())
        self.match_eval.addItem("Match 1")
        self.details.clicked.connect(lambda : self.menu(MainWindow))
        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label.setText(_translate("MainWindow", "Evaluate the performance of your team"))
        self.label_5.setText(_translate("MainWindow", "Players"))
        self.calc.setText(_translate("MainWindow", "Calculate Points"))
        self.label_6.setText(_translate("MainWindow", "Points"))
        self.label_7.setText(_translate("MainWindow", "0"))
        self.details.setText(_translate("MainWindow", "Go to Menu"))

class Ui_DialogOptns(object):
    #This is an additional Dialog apart from what's asked, if game gets more
    #complicated with more matches and other country Cricket teams
    #additional options can be given.
    #For now, only 1000 points are available. Instead of that user can be given
    #specific points which are increased by gaining points from playing matches.

    #To reset entire data in teams table of database
    def reset(self):
        self.msg_box = QtWidgets.QMessageBox()
        self.msg_box.setIcon(QtWidgets.QMessageBox.Critical)
        self.msg_box.setWindowTitle("Warning!")
        self.msg_box.setText("Your entire data of all the teams you've created will be deleted. This action cannot be undone. Do you wish to proceed?")
        self.msg_box.setStandardButtons(QtWidgets.QMessageBox.Ok | QtWidgets.QMessageBox.Cancel)
        self.re = self.msg_box.exec()
        if self.re == QtWidgets.QMessageBox.Ok:
            db.cur.execute("DELETE FROM teams;")
            db.conn.commit()
        ui.open_btn.setEnabled(False)
    def setupUi(self, Dialog):
        Dialog.setObjectName("Dialog")
        Dialog.resize(480, 270)
        Dialog.setMinimumSize(QtCore.QSize(480, 270))
        Dialog.setStyleSheet("QPushButton {\n"
"padding : 10;\n"
"}")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(Dialog)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem)
        self.widget = QtWidgets.QWidget(Dialog)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.widget.sizePolicy().hasHeightForWidth())
        self.widget.setSizePolicy(sizePolicy)
        self.widget.setObjectName("widget")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.widget)
        self.verticalLayout.setSpacing(0)
        self.verticalLayout.setObjectName("verticalLayout")
        spacerItem1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem1)
        self.checkBox = QtWidgets.QCheckBox(self.widget)
        self.checkBox.setEnabled(False)
        font = QtGui.QFont()
        font.setPointSize(12)
        self.checkBox.setFont(font)
        self.checkBox.setChecked(True)
        self.checkBox.setObjectName("checkBox")
        self.verticalLayout.addWidget(self.checkBox)
        spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem2)
        self.reset_points = QtWidgets.QPushButton(self.widget)
        self.reset_points.setEnabled(False)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(1)
        sizePolicy.setHeightForWidth(self.reset_points.sizePolicy().hasHeightForWidth())
        self.reset_points.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.reset_points.setFont(font)
        self.reset_points.setStyleSheet("")
        self.reset_points.setObjectName("reset_points")
        self.verticalLayout.addWidget(self.reset_points)
        spacerItem3 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem3)
        self.reset_data = QtWidgets.QPushButton(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(1)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.reset_data.sizePolicy().hasHeightForWidth())
        self.reset_data.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.reset_data.setFont(font)
        self.reset_data.setStyleSheet("")
        self.reset_data.setObjectName("reset_data")

        self.reset_data.clicked.connect(self.reset)

        self.verticalLayout.addWidget(self.reset_data)
        spacerItem4 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem4)
        self.verticalLayout.setStretch(0, 3)
        self.verticalLayout.setStretch(1, 1)
        self.verticalLayout.setStretch(2, 1)
        self.verticalLayout.setStretch(3, 1)
        self.verticalLayout.setStretch(4, 1)
        self.verticalLayout.setStretch(5, 1)
        self.verticalLayout.setStretch(6, 3)
        self.horizontalLayout.addWidget(self.widget)
        spacerItem5 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem5)
        self.horizontalLayout.setStretch(0, 13)
        self.horizontalLayout.setStretch(1, 23)
        self.horizontalLayout.setStretch(2, 13)
        self.verticalLayout_2.addLayout(self.horizontalLayout)

        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "Dialog"))
        self.checkBox.setText(_translate("Dialog", "Always set points to 1000"))
        self.reset_points.setText(_translate("Dialog", "Reset points"))
        self.reset_data.setText(_translate("Dialog", "Reset data"))

class Ui_DialogStat(object):
    #This is also an additional Dialog apart from what's asked, if game gets more
    #complicated with more matches and other country Cricket teams
    #additional stats can be given like highest matches played before 
    #resetting points to 1000

    def setstats(self):
        db.cur.execute("SELECT COUNT(*) FROM teams")
        self.one = db.cur.fetchone()[0]
        db.cur.execute("SELECT SUM(value) FROM teams")
        self.two = db.cur.fetchone()[0]
        db.cur.execute("SELECT AVG(value) FROM teams")
        self.three = db.cur.fetchone()[0]
        self.teams_created.setText(str(self.one))
        self.points_gained.setText(str(self.two))
        self.netgained.setText(str(self.three))
    def setupUi(self, Dialog):
        Dialog.setObjectName("Dialog")
        Dialog.resize(527, 333)
        Dialog.setMinimumSize(QtCore.QSize(527, 333))
        Dialog.setMaximumSize(QtCore.QSize(527, 333))
        self.gridLayoutWidget = QtWidgets.QWidget(Dialog)
        self.gridLayoutWidget.setGeometry(QtCore.QRect(110, 60, 311, 221))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.gridLayoutWidget.setFont(font)
        self.gridLayoutWidget.setObjectName("gridLayoutWidget")
        self.gridLayout = QtWidgets.QGridLayout(self.gridLayoutWidget)
        self.gridLayout.setContentsMargins(0, 0, 0, 0)
        self.gridLayout.setObjectName("gridLayout")
        self.netgained = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.netgained.setFont(font)
        self.netgained.setObjectName("netgained")
        self.gridLayout.addWidget(self.netgained, 2, 1, 1, 1)
        self.points_gained = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.points_gained.setFont(font)
        self.points_gained.setObjectName("points_gained")
        self.gridLayout.addWidget(self.points_gained, 1, 1, 1, 1)
        self.label_5 = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.label_5.setFont(font)
        self.label_5.setObjectName("label_5")
        self.gridLayout.addWidget(self.label_5, 2, 0, 1, 1)
        self.label_4 = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.gridLayout.addWidget(self.label_4, 1, 0, 1, 1)
        self.teams_created = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.teams_created.setFont(font)
        self.teams_created.setObjectName("teams_created")
        self.gridLayout.addWidget(self.teams_created, 0, 1, 1, 1)
        self.label = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.gridLayout.addWidget(self.label, 0, 0, 1, 1)
        self.label_8 = QtWidgets.QLabel(self.gridLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(12)
        self.label_8.setFont(font)
        self.label_8.setText("")
        self.label_8.setObjectName("label_8")
        self.gridLayout.addWidget(self.label_8, 3, 1, 1, 1)

        self.retranslateUi(Dialog)
        self.setstats()
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "Dialog"))
        self.netgained.setText(_translate("Dialog", "TextLabel"))
        self.points_gained.setText(_translate("Dialog", "TextLabel"))
        self.label_5.setText(_translate("Dialog", "Net gained"))
        self.label_4.setText(_translate("Dialog", "Points gained"))
        self.teams_created.setText(_translate("Dialog", "TextLabel"))
        self.label.setText(_translate("Dialog", "Teams created"))

class DB:
    #A common class for various database operations
    def __init__(self):
        self.conn = sqlite3.connect("DB.db")
        self.cur = self.conn.cursor()
    def get_avail_list(self):
        self.toreturn = {}
        for ctg in ["BAT","BOW","AR","WK"]:
            self.cur.execute("SELECT player, value FROM stats WHERE ctg =?",(ctg,))
            self.toreturn[ctg] = self.cur.fetchall()
        return self.toreturn
    def insertinto(self, team, player, value):
        self.cur.execute('''INSERT INTO teams(name,players,value)
                VALUES(?,?,?)''',(team, player, value))
        db.conn.commit()

    def get_match_details(self, namee):
        db.cur.execute('''SELECT players FROM teams WHERE teams.name = "{}" '''.format(namee))
        x= db.cur.fetchall()
        x = tuple(x[0][0].split('-'))
        sql = '''SELECT * FROM match WHERE player IN {}'''.format(x)
        records = self.cur.execute(sql)
        results = [record for record in records]
        return results

    def get_teams(self):
        db.cur.execute("SELECT name FROM teams")
        return [i[0] for i in db.cur.fetchall()]

    def get_team_players(self, namee):
        db.cur.execute('''SELECT players FROM teams WHERE teams.name = "{}" '''.format(namee))
        x= db.cur.fetchall()
        x = x[0][0].split('-')
        return x

if __name__ == "__main__":
    import sys
    db = DB()
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
    db.conn.close()